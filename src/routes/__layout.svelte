<script context="module" lang="ts">
	import PreloadingIndicator from '$lib/components/PreloadingIndicator.svelte';
	import { navigating, page } from '$app/stores';
	import 'focus-visible'; // polyfill :focus-visible for Safari
	import '../global.css';
</script>

<script lang="ts">
	$: title = $page.stuff.title;
</script>

{#if $navigating}
	<PreloadingIndicator />
{/if}

<svelte:head>
	<title>{title ? title + ' | ' : ''}MU by Year</title>
</svelte:head>

<nav>
	<ul>
		<a href="/" sveltekit:prefetch>Home</a>
		<a href="/year" sveltekit:prefetch>Years</a>
		<a href="/comic/random" sveltekit:prefetch>Random Comic</a>
		<a href="/year/random" sveltekit:prefetch>Random Year</a>
	</ul>
</nav>

<main>
	<slot />
</main>

<footer>
	Site built by <a href="https://geoffrich.net/">Geoff</a> with
	<a href="https://kit.svelte.dev/">SvelteKit</a>.
</footer>

<style>
	:global(body) {
		max-width: 1024px;
		margin-left: auto;
		margin-right: auto;
		padding: 1rem;
		padding-bottom: 0;
	}

	:global(div#svelte) {
		display: flex;
		flex-direction: column;
	}

	ul {
		list-style: none;
		padding: 0;
		margin: 0;
		margin-left: -0.25rem;
		display: flex;
		flex-wrap: wrap;
		column-gap: 0.5rem;
	}

	footer {
		margin-top: auto;
		padding: 1rem 0;
	}

	nav a {
		padding: 0.25rem;
	}
</style>
